---
import { Icon } from 'astro-icon';
---

<button id="themeToggle" class="ml-4" aria-label="Theme Toggle">
  <Icon name="sun" class="block h-5 w-5 dark:hidden" />
  <Icon name="moon" class="hidden h-5 w-5 dark:block" />
</button>

<script>
  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle('dark');

    const isDark = element.classList.contains('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  };

  document
    .getElementById('themeToggle')!
    .addEventListener('click', handleToggleClick);
</script>
